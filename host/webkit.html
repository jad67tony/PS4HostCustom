<html>

<head>
    <title>Webkit 7.02</title>
    <link rel="stylesheet" href="assets/css/webkit.css">
    <script src="assets/js/functions.js"></script>
    <script src="assets/lang/home.json"></script>
</head>
<body style="background-color:#00307f" class="superbg">
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            go();
        });
        if (document.cookie.indexOf('kex=0') >= 0) {
            document.location.href = 'indexnocache.html';
        }
        function print() { }
        let scriptCode = '';
        let s = '';
        let home = [];
        let defaultLangue;
        choiceLanguage();
        datas = [data];
        for (let e = 0; e < datas.length; e++) home[e] = JSON.parse(datas[e]);

        function preloadScripts(lst) {
            for (var i = 0; i < lst.length; i++) {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', lst[i], false);
                xhr.send('');
                scriptCode += xhr.responseText + '\n';
            }
        }
        function done() {
            if (main_ret == 0 || main_ret == 179) {
               // localStorage.setItem("jb702", "ok");
                setTimeout(function () {
                    read_ptr_at(0);
                }, 4000);
            }
            else alert(home[0][defaultLangue].jb702failed);
        }
        window.midExploit = function () {

            if (localStorage.getItem("exploit702") === `PL_702_${plLangue()}/binloader/c-code.js`) {
                preloadScripts(['jb/702/702.js', 'jb/702/c-code.js', localStorage.getItem("exploit702")], go);
            } else {
                preloadScripts(['jb/702/702.js', 'jb/702/c-code.js', localStorage.getItem("exploit702"), 'mirahen/702/c-code.js'], go);
            }

        }
        window.postExploit = function () {
            document.cookie = 'kex=0';
            setTimeout(function () {
                eval.call(window, scriptCode);
                done();
            }, 100);

        };
        if (localStorage.getItem("backgroundurl") == '') {
            null === localStorage.getItem("baColor")
                ? (localStorage.setItem("baColor", "#00307f"),
                    document.body.style.backgroundColor = localStorage.getItem("baColor"))
                : document.body.style.backgroundColor = localStorage.getItem("baColor");
        } else {
            var bgImg = new Image();
            bgImg.onload = function () {
                document.body.style.backgroundImage = 'url(' + bgImg.src + ')';
            }
            bgImg.src = localStorage.getItem("backgroundurl");
        }
        
    </script>

    <center>
        <div id="debug" class="debug"></div>
        <button id="input1" onfocus="handle2()" class="button"></button>
        <button id="input2" class="button"></button>
        <button id="input3" onfocus="handle2()" class="button"></button><br>
        <select id="select1">
            <option value="value1">Value1</option>
        </select>
        <footer>
            <div id="wait"></div>
        </footer>
    </center>
    <script src="webkit702/utils.js"></script>
    <script src="webkit702/int64.js"></script>
    <script src="webkit702/ps4.js"></script>
    <script>document.getElementById("wait").innerHTML = home[0][defaultLangue].webkitWait;</script>
</body>

</html>